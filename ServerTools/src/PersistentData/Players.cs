using System;
using System.Collections.Generic;

namespace ServerTools
{
    [Serializable]
    public class Players
    {
        private Dictionary<string, Player> players = new Dictionary<string, Player>();

        public Player this[string steamId, bool create]
        {
            get
            {
                if (string.IsNullOrEmpty(steamId))
                {
                    return null;
                }
                else if (players.ContainsKey(steamId))
                {
                    return players[steamId];
                }
                else
                {
                    if (create && steamId != null && steamId.Length == 17)
                    {
                        Player p = new Player(steamId);
                        players.Add(steamId, p);
                        return p;
                    }
                    return null;
                }
            }
        }
    }
}